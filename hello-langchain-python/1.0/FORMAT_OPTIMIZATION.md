# 输出格式优化说明

## 优化内容

### 1. 统一的格式化工具模块 (`tools/format_utils.py`)

创建了一个通用的格式化工具模块，提供以下功能：

- `format_response()`: 统一格式化响应内容
- `extract_content_after_think()`: 提取 `<think>` 标签后的内容
- `print_section_header()`: 打印统一的章节标题
- `print_content()`: 打印统一的内容区域
- `print_model_result()`: 统一打印模型结果（包含计时）
- `print_language_result()`: 打印特定语言的结果

### 2. 优化后的输出格式

所有脚本现在使用统一的输出格式：

```
============================================================
  模型名称/语言
============================================================

响应时间: X.XX秒

------------------------------------------------------------
响应内容
------------------------------------------------------------
```

### 3. 改进的错误处理

- 统一的错误提示格式：`❌ 错误: {错误信息}`
- 更清晰的错误信息展示

### 4. 优化的文件

- `hello.py`: 修复了分隔符语法错误，使用统一的格式化函数
- `hello_ollama.py`: 使用新的格式化工具，输出更清晰
- `hello_lmstudio.py`: 使用新的格式化工具，移除重复代码

## 使用示例

```python
from tools.format_utils import print_model_result

# 打印模型结果
print_model_result("模型名称", lambda: model.invoke(prompt))
```

## 优势

1. **代码复用**: 所有格式化逻辑集中在一个模块中
2. **一致性**: 所有脚本使用相同的输出格式
3. **可维护性**: 修改格式只需更新一个文件
4. **可读性**: 输出更清晰、更专业
5. **性能监控**: 自动显示响应时间
